<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>统计</title>
</head>
当前在线人数：
<div id="sum" th:text="${num}"></div><br>
具体人员：
<div id="users" th:text="${users}"></div><br>

消息：
<input type="text" id="msg"><br>
发送人昵称：
<input type="text" id="username"><br>

<input type="button" value="发送" onclick="sendMsg()"><br>
<input type="button" value="全部发送" onclick="sendAll()"><br>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
    function sendMsg() {
        var user = $("#username").val();
        var msg = $("#msg").val();
        if(user!=null && user!="" && msg!=null && msg!=""){
            $.getJSON('/sendmsg?username='+user+'&msg='+msg,function (data) {
                alert(data);
            });
        }else {
            alert("请填写用户昵称和发送内容");
        }
    }
    
    function sendAll() {
        var msg = $("#msg").val();
        if(msg!=null && msg!=""){
            $.getJSON('/sendAll?msg='+msg, function (data) {
                alert(data);
            });
        }else {
            alert("请填写发送的内容");
        }
    }
</script>
</body>
</html>